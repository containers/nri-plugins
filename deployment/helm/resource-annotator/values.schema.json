{
  "$schema": "http://json-schema.org/schema#",
  "required": [
    "image",
    "service"
  ],
  "properties": {
    "image": {
      "type": "object",
      "required": [
        "name",
        "pullPolicy"
      ],
      "properties": {
        "name": {
          "type": "string"
        },
        "tag": {
          "type": "string"
        },
        "pullPolicy": {
          "type": "string",
          "enum": [
            "Never",
            "Always",
            "IfNotPresent"
          ]
        }
      }
    },
    "service": {
      "type": "object",
      "required": [
        "base64Crt",
        "base64Key"
      ],
      "properties": {
        "base64Crt": {
          "type": "string",
          "$comment": "base64 encoded certificate (PEM)",
          "pattern": "^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$"
        },
        "key": {
          "type": "string",
          "$comment": "base64 encoded key (PEM)",
          "pattern": "^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$"
        }
      }
    }
  }
}
